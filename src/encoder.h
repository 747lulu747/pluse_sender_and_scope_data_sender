#pragma once

/**********************************************************************/
// include header files
/**********************************************************************/
#include <Arduino.h>
#include "util.h"


/**********************************************************************/
// macro define
/**********************************************************************/


/**********************************************************************/
// type define
/**********************************************************************/


/**********************************************************************/
// extern variable
/**********************************************************************/


/**********************************************************************/
// extern function declaretion
/**********************************************************************/
class encoder {

public:
	encoder(TIM_TypeDef *tim);

	static encoder* e1;
	static encoder* e2;

	static encoder* get_encoder_1(void);
	static encoder* get_encoder_2(void);

	TIM_TypeDef *_tim;
	TIM_HandleTypeDef _htim;

	long read(void);
	void set(long);

private:
	long _cur_pos;
};
